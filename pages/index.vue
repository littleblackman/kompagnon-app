<script setup>
definePageMeta({
  layout: 'home'
});
import { navigateTo } from '#app';
import { watch } from 'vue';
import { useAuthStore } from '~/store/auth';
const auth = useAuthStore()

watch(() => auth.user, (user) => {
  if (user) {
    navigateTo('/dashboard');
  }
}, { immediate: true });
</script>

<template>
  <div class="flex min-h-screen">
    <!-- Colonne formulaire -->
    <div class="w-1/2 flex flex-col items-center">

      <div>
        <img src="/public/logo-kpgn.png" alt="logo kompagnon">
      </div>


      <h1 class="text-3xl font-bold">Kompagnon</h1>

      <div class="text-justify mt-4 max-w-196">
        <p>
          âœ¨ Bienvenue sur Kompagnon<br/>
          Kompagnon, câ€™est lâ€™alliÃ© des Ã©crivains, scÃ©naristes et crÃ©ateurs de rÃ©cits.<br/>
          Une plateforme pensÃ©e pour tâ€™aider Ã  structurer ton projet narratif de A Ã  Z.<br/>
          <br/>
          ğŸ§  Ã‰cris par couches : commence par lâ€™idÃ©e gÃ©nÃ©rale, construis ton intrigue, dÃ©veloppe tes scÃ¨nes et affine chaque dialogue.<br/>
          <br/>
          ğŸ“… GÃ¨re ton temps narratif : grÃ¢ce Ã  une timeline interactive, visualise, dÃ©place, et restructure tes sÃ©quences en un clic.<br/>
          <br/>
          ğŸ“Š Suis ta progression : nombre de mots, avancement des chapitres, objectifs crÃ©atifsâ€¦ tout est lÃ  pour tâ€™aider Ã  rester motivÃ©.<br/>
          <br/>
          ğŸ” Teste, rÃ©Ã©cris, recommence : Kompagnon tâ€™accompagne dans les itÃ©rations, sans jamais perdre de vue la vision dâ€™ensemble.<br/>
          <br/>
          ğŸ› ï¸ Open source & collaboratif :<br/>
          Le projet est libre, transparent et Ã©volutif. Tu peux lâ€™explorer, contribuer ou tâ€™en inspirer.<br/>
          <a href="https://github.com/littleblackman/kompagnon-api" target="_blank">Kompagnon â€“ Backend API (Symfony + API Platform)</a><br/>
          <a href="https://github.com/littleblackman/kompagnon-app" target="_blank">Kompagnon â€“ Frontend App (Nuxt 3 + Tailwind)</a><br/>
          <br/>
          <br/>
          ğŸ“© Pour plus dâ€™infos ou une dÃ©mo personnalisÃ©e : <b>sandyrazafitrimo@gmail.com</b>
        </p>

      </div>


      <div v-if="auth.user" class="mt-4">
        <h2 class="text-xl">Bienvenue, {{ auth.user.email }}</h2>
      </div>
      <div v-else class="mt-4">
        <NuxtLink to="/login" class="text-blue-600 underline">Connexion</NuxtLink>
      </div>
    </div>

    <!-- Colonne image -->
    <div class="w-1/2">
      <img src="/public/images/tana.jpg" class="w-full h-full object-cover" alt="Tana le Kompagnon idÃ©al">
    </div>
  </div>
</template>